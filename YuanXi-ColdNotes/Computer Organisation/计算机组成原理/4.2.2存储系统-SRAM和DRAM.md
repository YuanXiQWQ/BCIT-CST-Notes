## 概念
- DRAM (Dynamic Random Access Memory): 动态 RAM
- SRAM (Static Random Access Memory), 即静态 RAM
- DRAM 用于主存, SRAM 用于 Cache
## 区别
核心区别: 存储元不同
- DRAM 芯片: 使用栅极电容存储信息, 通过电容充放电识别状态
	![[Pasted image 20241208053051.png]]
- SRAM 芯片: 使用双稳态触发器存储信息
## 双稳态触发器
![[Pasted image 20241208053301.png]]
- M 1~M 6: MOS 管
- 双稳态: 有两种稳定状态, 规定:
	- $0$: A 高 B 低
	- $1$: A 低 B 高
### 信号的读取
需要两根数据线来读出 $0$ (BL) 和 $1$ (BLX). 当字选择线给出 $5V$ 的高电平信号后
- 存储 1: BLX 输出低电平信号
- 存储 0: BL 输出低电平, BLX 不输出任何信号
因此可以根据 BL 和 BLX 哪个输出了低电平信号判断存储的是 0 还是 1
### 信号的写入
需要写入 0 时: 给 BL 加低电平, 给 BLX 加高电平
写入 1 时: 给 BL 加入高电平, 给 BLX 加入低电平
## 特点
- DRAM
	- 由于读取数据需要电容放电, 电容存储信息会被破坏, 因此是破坏性读出, 需要重写
	- 每个存储元制造成本更低, 集成度高, 功耗低
	- 需要刷新: 电容内电荷只能维持 2 ms, 即便不断电, 2 ms 后也会消失, 所以需要时刻刷新 (给电容充电)
- SRAM
	- 读出数据, 触发器状态保持稳定, 是非破坏性读出, 无需重写, 因此读写速度更快
	- 每个存储元制造成本高, 集成度低, 功耗大
	- 不需要刷新: 只要不断电, 触发器的状态就不会改变

|   **类型特点**   | **DRAM** | **SRAM** |
| :----------: | :------: | :------: |
|     存储信息     |    电容    |   触发器    |
|    破坏性读出     |    是     |    否     |
| 读出后需要重写？(再生) |    是     |    否     |
|     运行速度     |    慢     |    快     |
|     集成度      |    高     |    低     |
|     发热量      |    小     |    大     |
|     存储成本     |    低     |    高     |
| 易失/非易失性存储器？  |    易失    |    易失    |
|   需要“刷新”？    |    需要    |   不需要    |
|    送行列地址     |   分两次送   |   同时送    |
|     常用于      |    主存    |  Cache   |
### DRAM 的刷新
由于电容内电荷只能维持 2 ms, 即便不断电, 2 ms 后也会消失, 所以需要时刻刷新 (给电容充电)
- 刷新周期: 一般为 2 ms
- 每次刷新存储单元: 一行
	- 行列地址: 由于译码器要处理的选通线通常是指数级 ($n$ 位地址要接通 $2^n$ 根线), 在工程上较难实现, 因此通常将一维的存储单元排列成二维(甚至三维)的行列矩阵, 将完整地址使用行地址译码器和列地址译码器拆分, 这样每个译码器仅需处理 $\frac{n}{2}$ 位地址, 也就是 $2^{\frac{n}{2}}$ 根选通线
	![[Pasted image 20241208055705.png]]
- 刷新: 有硬件支持, 读出一行的信息后重新写入, 占 1 个读写周期
	- 刷新一整行, 本质上是一次读操作
#### 刷新时刻
假设 DRAM 内部结构排列成 $128 \times 128$ 的形式, 读写周期为 $0.5 \mu s$, 由于电容最长可以坚持 $2ms$, 这其中可以包含 $\frac{2ms}{0.5 \mu s}=4000$ 个周期
##### 分散刷新
![[Pasted image 20241208060657.png]]
每次读写完都刷新一行, 则读写周期翻倍, 变为 $0.5\mu s \times 2 = 1 \mu s$
##### 集中刷新
![[Pasted image 20241208060905.png]]
$2ms$ 内集中安排时间全部刷新
则 $128$ 行需要 $128$ 个周期刷新, 剩下 $3872$ 个周期用于正常执行任务
- 这段时间内无法访问存储器, 被称为访存死区
##### 异步刷新
![[Pasted image 20241208060915.png]]
$2ms$ 内每行刷新一次即可, 则需要在这段时间刷新 $128$ 次 (共128 行), 计算出需要每隔 $\frac{2ms}{128}=15.6\mu s$ 刷新一次, 即每 $15.6 \mu s$ 有 $0.5 \mu s$ 的死时间
### 送行列地址
#### 同时送
将地址的行地址和列地址同时送给行地址译码器和列地址译码器
- 该方法需要有多少地址位, 就需要多少地址线
#### 分两次送: 地址线复用技术
将行地址和列地址通过前后两次分别进行传输
- 该方法仅需 $\frac{n}{2}$ 条地址线
- 所以 **DRAM 的地址线引脚数量会减半**