一台计算机的主存中每个字单元占据一个存储单元。它使用四路组相联缓存，缓存共4行（lines），每行可以存储两个字（word）。

现在有一个程序运行，它在三个阶段（Pass）中读取数据，地址序列如下（十进制表示）：

- **第一遍（Pass 1）：** $40, 42, 44, 40, 41, 41, 42, 100, 2, 10$
    
- **第二遍（Pass 2）：** $11, 12, 13, 11, 40, 41, 40, 100, 99, 101$
    
- **第三遍（Pass 3）：** $42, 41, 40, 41, 42, 42, 43, 17, 100, 41$
    

1. 请分别在每一遍结束后，用表格形式展示缓存的内容。
2. 计算命中率（Hit Rate）  假设缓存一开始是空的。使用最近最少使用（LRU，Least-Recently-Used）的缓存替换算法，计算这个例子的命中率。

| **MM block#** | **Contains cells** | **Which go into cache line#** |  **Line 计算方式**  |
| :-----------: | :----------------: | :---------------------------: | :-------------: |
|      $0$      |       $0–1$        |              $0$              | $(0 \% 4 = 0)$  |
|      $1$      |       $2–3$        |              $1$              | $(1 \% 4 = 1)$  |
|      $2$      |       $4–5$        |              $2$              | $(2 \% 4 = 2)$  |
|      $3$      |       $6–7$        |              $3$              | $(3 \% 4 = 3)$  |
|      $4$      |       $8–9$        |              $0$              | $(4 \% 4 = 0)$  |
|      $5$      |      $10–11$       |              $1$              | $(5 \% 4 = 1)$  |
|     $20$      |      $40–41$       |              $0$              | $(20 \% 4 = 0)$ |
|     $50$      |     $100–101$      |              $2$              | $(50 \% 4 = 2)$ |

| **Line** |          **PASS 1**           |             **PASS 2**              |           **PASS 3**            |
| :------: | :---------------------------: | :---------------------------------: | :-----------------------------: |
|  **00**  |             40-41             |                40-41                | ~~40-41~~<br>~~16-17~~<br>40-41 |
|  **01**  | ~~42-43~~<br>~~2-3~~<br>10-11 |         ~~10-11~~<br>98-99          |       ~~98-99~~<br>42-43        |
|  **02**  |     ~~44-45~~<br>100-101      | ~~100-101~~<br>~~12-13~~<br>100-101 |             100-101             |
|  **03**  |                               |                                     |                                 |
Hit:
Pass 1: $40, 41, 41, 42$
Pass 2: $11, 13, 11, 40, 41, 40, 101$
Pass 3: $41, 40, 41, 42, 42, 43, 100$
Hit rate: $\frac{18}{30} = 60\%$
