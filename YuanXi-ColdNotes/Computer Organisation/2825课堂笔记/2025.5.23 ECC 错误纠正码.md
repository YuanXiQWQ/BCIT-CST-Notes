>  范围：期中√ 期末×
## 原理
- 步骤
	1. 错误检测
	2. 错误纠正
- 一个码应当是字典中的有效字符
	- 若字典中含有码 $000$，$111$
	- 收到了 $001$
	- 确认有错误
- 两个码之间距离越远，越容易检测错误
	- $00000000$，$11111111$ 相比于 $00$，$11$ 更容易检查出错误
	- $00000001$ 很可能是 $00000000$ 错了，但 $01$ 说不准是谁错了
## 汉明码
Dataword: 真正表达数据的字段
Codeword: 包含了 dataword 和冗余位的字段
冗余位：校验位，用来检测并定位错误，通常位于 $2^n$
### 汉明距离（HD）
两个合法码字之间最小的比特位差异数目 $h$
- 字典中有
	- $1111、 0000$，则 $h=4$
	- $1111、 0000、 0011$，则 $h=2$
- 可检测错误的最大数量 $x$ 为 $x\lt h$
- 可纠正错误的最大数量 $y$ 为 $y \lt \lfloor \frac{h}{2} \rfloor$
因此汉明距离越大纠错能力越强

| **Hamming 距离 h** | **最多可检测错误数** | **最多可纠正错误数** |
| :--------------: | :----------: | :----------: |
|        8         |      7       |      3       |
|        16        |      15      |      7       |
|        32        |      31      |      15      |
### 汉明奇偶校验

|    **序号**    | **$1$** | **$2$**  | **$3$**  | **$4$**  | **$5$**  | **$6$**  |  **$7$**  | **$8$** |
| :----------: | :-----: | :------: | :------: | :------: | :------: | :------: | :-------: | :-----: |
|   **二进制**    | $0001$  |  $0010$  |  $0011$  |  $0100$  |  $0101$  |  $0110$  |  $0111$   | $1000$  |
| **codeword** |  $P_1$  |  $P_2$   |          |  $P_4$   |          |          |           |  $P_8$  |
|   **受校验 **   |   $1$   |   $2$    |  $1,2$   |   $4$    |  $1,4$   |  $2,4$   |  $1,2,4$  |   $8$   |
|    **序号**    | **$9$** | **$10$** | **$11$** | **$12$** | **$13$** | **$14$** | **$15$**  |         |
|   **二进制**    | $1001$  |  $1010$  |  $1011$  |  $1100$  |  $1101$  |  $1110$  |  $1111$   |         |
| **codeword** |         |          |          |          |          |          |           |         |
|   **受校验**    |  $1,8$  |  $2,8$   | $1,2,8$  |  $4,8$   | $1,4,8$  | $2,4,8$  | $1,2,4,8$ |         |
#### 偶校验
1. Codeword 中，$2^n$ 位作为校验位，其余位置（数据位）加入 Dataword
	- 对于一段 $10$ 位的 codeword，其校验位为：
		- $2^0 = 1$
		- $2^1 = 2$
		- $2^2 = 4$
		- $2^3 = 8$
		- $2^4 = 16 \gt 10$ 位，即到第 $8$ 位为止
2. 将数据位的编号写作校验位编号（$2^n$）之和的形式
	- 如第一位数据位（codeword 的第三位）为 3, 则写成（$2^0 + 2^1 = 1 + 2$ ）的形式，则此 $1$，$2$ 表示该数据位接受校验位 $1$，校验位 $2$ 的校验。则有：
		- <font color="#00b050">1：校验位</font>
		- <font color="#00b050">2：校验位</font>
		- 3：$2 + 1$
		- <font color="#00b050">4：校验位</font>
		- 5：$4 + 1$
		- 6：$4 + 2$
		- 7：$4 + 2 + 1$
		- <font color="#00b050">8：校验位</font>
		- 9：$8 + 1$
		- 10：$8 + 2$
3. 从高位向低位填写校验位，规则为所有接受校验位校验的位相加后，加上校验位本身的数字为偶数。
	- 例如一段 dataword $001110$
	- 写作 codeword 为 $\_ \space \_ \space 0 \space \_ \space 0 \space 1 \space 1 \space \_ \space 1 \space 0$（$\_$ 表示校验位）
		- 接受第 $8$ 位校验的位有 $9$（$8+1$）, $10$（$8+2$）
			- $1 + 0 = 1$ 为奇数，则校验位为 $1$
			- $\_ \space \_ \space 0 \space \_ \space 0 \space 1 \space 1 \space 1 \space 1 \space 0$
		- 接受第 $4$ 位校验的位有 $5$（$4+1$）, $6$（$4+2$）, $7$（$4+2+1$）
			- $0 + 1 + 1 = 2$ 为偶数，则校验位为 $0$
			- $\_ \space \_ \space 0 \space 0 \space 0 \space 1 \space 1 \space 1 \space 1 \space 0$
		- 接受第 $2$ 位校验的位有 $3$（$2+1$）, $6$（$4+2$）, $7$（$4+2+1$），$10$（$8+2$）
			- $0 + 1 + 1 + 0 = 2$ 为偶数，则校验位为 $0$
			- $\_ \space 0 \space 0 \space 0 \space 0 \space 1 \space 1 \space 1 \space 1 \space 0$
		- 接受第 $1$ 位校验的位有 $3$（$2+1$）, $5$（$4+1$）, $7$（$4+2+1$），$9$（$8+1$）
			- $0 + 0 + 1 + 1 = 2$ 为偶数，则校验位为 $0$
			- $0 \space 0 \space 0 \space 0 \space 0 \space 1 \space 1 \space 1 \space 1 \space 0$
	- 则 codeword 为 $0 \space 0 \space 0 \space 0 \space 0 \space 1 \space 1 \space 1 \space 1 \space 0$。
#### 奇校验
与偶校验相同，只是校验位与被校验位相加后应是奇数。
#### 纠错
将接收到的码字重新计算校验位，记录出错的校验位编号，再将编号加起来之和就是错误位。如果编号之和超出码字长度，则该结果无效，说明出现了多于一位的错误，在汉明码单校验模式下无法纠正。
- 如果校验位 $1$, $2$ 错了，则出现错误的地方很可能是第 $1+2=3$ 位。
- 如果校验位 $1$, $2$, $4$ 错了，则出现错误的地方很可能是第 $1+2+4=7$ 位。
- 如果校验位 $1$, $2$, $4$, $8$ 错了，则出现错误的地方很可能是第 $1+2+4+8=15 \gt 10$ 位，显然溢出了 $10$ 位的 codeword，因此表示无法纠错。
- 如果只有校验位 $2$ 错了，则出现错误的地方很可能是第 $2$ 位。