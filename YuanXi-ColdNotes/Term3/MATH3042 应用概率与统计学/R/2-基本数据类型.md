# Vector 向量
- **相同**类型元素组成的**有序**集合
	- 并不是有大小和方向的量
- 每个数据项被称作向量的元素
- 每个元素对应一个下标，即元素在数组中的序列
	- 下标从 1 开始，而非 0 ，使用下标可以查询到对应元素

| 元素  | 1.23 | 5.342 | 2.352 |
| --- | ---- | ----- | ----- |
| 下标  | 1    | 2     | 3     |
- R 中不存在标量的概念，单个元素也是元素数量为 1 的向量
## 创建向量
-  `向量名 <- c(元素1, 元素2)`
```R
# 单独插入向量
num1 <- c(1.23, 5.342, 2.352)
# 插入连续向量：1、2、3、4、5、6、7、8、9、10
num2 <- 1:10
# 创建字符型向量
char1 <- c('a', 'b', 'c')
```
### 数据类型
- 基础原子类型

|**类型**|**说明**|**示例**|
|---|---|---|
|**numeric**|默认的数值类型（双精度浮点数 double）。|`x <- 3.14`|
|**integer**|整数型，要用 `L` 声明。|`y <- 5L`|
|**character**|字符串。|`z <- "hello"`|
|**logical**|逻辑型（布尔值）。|`TRUE`, `FALSE`|
|**complex**|复数类型。|`w <- 3 + 2i`|
|**raw**|原始字节数据。|`raw(3)` → `00 00 00`|
- 复合结构（由原子类型组合而成）

|**结构**|**说明**|**示例**|
|---|---|---|
|**vector**|同质一维向量（只能包含同一类型的数据）。|`c(1, 2, 3)`|
|**matrix**|矩阵，本质上是带维度属性的向量。|`matrix(1:6, nrow=2)`|
|**array**|多维数组。|`array(1:8, dim=c(2,2,2))`|
|**list**|可以包含不同类型的元素，异质集合。|`list(1, "a", TRUE)`|
|**data.frame**|表格结构，每列是向量，可以不同类型。|`data.frame(id=1:3, name=c("A","B","C"))`|
- 复合结构的特殊类型

| **类型**                | **说明**                | **示例**                       |
| --------------------- | --------------------- | ---------------------------- |
| **factor**            | 分类变量（带 levels 的整数向量）。 | `factor(c("male","female"))` |
| **Date**              | 日期。                   | `as.Date("2025-09-17")`      |
| **POSIXct / POSIXlt** | 日期时间（带时区）。            | `Sys.time()`                 |
#### Factor
- **定义：** 用来表示 categorical data分类数据
- **本质：** 在底层是整数向量，但每个整数对应一个 levels 标签
- **用途：** 更适合表示有限的类别，而不是单纯的字符串
- 创建 Factor：
```R
x <- c("male", "female", "female", "male", "male")
f <- factor(x)

# 查看输出：
f
```
```txt
输出：
[1] male   female female male   male  
Levels: female male
底层存储的其实是整数c(2,1,1,2,2)，但显示为对应的标签"female", "male"
```
- 有序 Factor：一些分类是有顺序的，例如低、中、高，可以使用 `ordered=TRUE` 或 `ordered()` 创建有序 Factor
```R
grade <- factor(
			c("B", "C", "A", "B"),
            levels = c("C", "B", "A"),
            ordered = TRUE
		)

grade
# [1] B C A B
# Levels: C < B < A
```
这样就可以比较顺序
```R
grade[1] > grade[2]
# [1] TRUE   （因为 B > C）
```
## 索引向量
元素\[索引条件\]
```R
num1 <- c(9.1, 8.2, 7.3)
num1[1]
# 9.1
num1[c(1,3)]
# 9.1 7.3
```
- 使用逻辑性索引时，会显示 T 对应的变量
```R
num1[c(T, F, T)]
# 9.1 7.3
```
- 使用负数索引时，负数对应的位置不会显示（此处为位置 2）
```R
num1[-2]
# 9.1 7.3
```
- 为每个元素创建字符下标，但不改变其原本的数字下标
```R
num2 <- c(
		'first' = 9.1,
		'second' = 8.2,
		'third' = 7.3,
		)
```
- 使用元素名称索引
```R
num3[c('first', 'third')]
# 9.1 7.3
```
- 索引能被 2 整除的值
```R
a <- 20:30
a[a%%2 == 0]
# 20 22 24 26 28 30
```
- 索引并赋值
```R
num1[c(1, 3)] = 100 200
num1
# 100.0 8.2 300.0
```
## 类型转换
- 查看向量类型
```R
class(num1)
# “numeric”
```
- 查询具体类型
```R
is.character(num1)
# FALSE
```
- 转换具体类型：只返回转换后的结果，**不改变原始变量**
```R
as.character(num1)
num1
# "100.0" "8.2" "300.0"
```
- 转换具体类型：**改变原始变量**
```R
num1 <- as.character(num1)
```
## 特殊字符
- NA：缺失值
- NaN：无意义值
- Inf：正无穷值
- -Inf：负无穷值
- NULL：空值