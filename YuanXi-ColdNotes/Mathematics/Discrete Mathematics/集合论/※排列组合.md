## 排列 (Permutation)
### 定义
是指从 $n$ 个不同的元素中选取 $r$ 个元素进行**有序排列**的方式
$$
P(n, r) = \frac{n!}{(n - r)!} 
$$
等同于 ($r=m$)
$$
A_n^m = \frac{n!}{(n-m)!}
$$
### 特殊项
$$
A_n^n = n!, \space A_n^0 = 1
$$
### 备注
计算的时候相当于从 n 开始进行阶乘, 直到乘上 m 个数字
$n\times(n-1)\times(n-2)\times...\times(n-m+1)(共\times m次)$
例: 计算 $A_5^2$
直接套公式算:
	$A_5^2$ 
	$=\frac{5!}{(5-2)!}$
	$=\frac{5!}{3!}$
	$=\frac{5\times4\times3\times2\times1}{3\times2\times1}$
	$=5\times4$
	$=20$
用简化算法算:
	$A_5^2$
	$=5\times4(m=2,\times2次)$
	$=20$
## 组合 (Combination) 
### 定义
组合是指从 $n$ 个不同的元素中选取 $r$ 个元素的方式，**顺序不影响结果**
$$
C(n, r) = \binom{n}{r} = \frac{n!}{r! \cdot (n - r)!} 
$$
等同于 ($r=m$)
$$ C_n^m = \frac{n!}{m! \cdot (n - m)!} = \frac{A_n^m}{m!} $$
### 特殊项
$$
C_n^n = C_n^0 = 1
$$
$$
C_n^m = C_n^{n-m}
$$
## 模块一: 排列与组合的简单应用
- **核心思想: 有序地安排=>排列, 无序地选择=>组合**
1. 从 8 名学生中选出班长 1 人, 副班长 1 人, 纪律委员 1 人, 一个人最多只能竞选一个, 共有多少种不同的选派方法?
	- 分析
		- 班长, 副班长, 纪律委员互斥=>每选一人都减少 1 人
		- 无序地选择=>组合
	
	$C_8^1 \times C_7^1 \times C_6^1$
	$=8\times7\times6$
	$=336$
	
	或者
	- 分析
		- 班长, 副班长, 纪律委员互斥=>每次安排职务后人员不用回补, 不用重新安排
		- 在 8 人之中顺序安排 3 个职位
		- 有序地安排=>排列
	
	$A_8^3$
	$=8\times7\times6$
	$=336$
	
2. (2023·绵阳二诊·改) 寒假来临，秀秀将从《西游记》、《童年》、《巴黎圣母院》、《战争与和平》、《三国演义》、《水浒传》这**六部著作中选四部**(*其中国外两部，国内两部*)，每周看一部，连续四周看完，则有多少种不同的安排方法 (用数字作答) 
	- 分析
		- 6 本书, 3 国内 3 国外, 选 2 国内 2 国外的, 用选择=>组合
		- 每周看 1, 分 4 周, 安排 4 本书在 4 周=>排列
	
	$C_3^2 \times C_3^2 \times A_4^4$
	$=3\times3\times4!$
	$=216$
	
## 模块二: 排列组合题型
- **正难则反**
	- **定义：** 如果直接从正面思考问题比较困难，就可以考虑从反面入手，即通过排除不符合条件的情况来求解。
	- **应用场景：** 通常用于计算某种情形下的排列或组合数量，可以通过计算“总数 - 不符合条件的数”来简化求解过程。
	- **例子：** 有 10 个人排队，要保证 A 和 B 不相邻。可以先计算所有排法，然后减去 A 和 B 相邻的排法数。
- **特殊元素/位置先排**
	- **定义：** 如果问题中有一些特殊的元素或位置，可以优先处理这些特殊元素，以简化整体的排列或组合。
	- **应用场景：** 当有明确的特殊条件或要求时，先安排特殊元素可以减少总的情况数，有助于避免重复或遗漏。
	- **例子：** 如果问题要求 A 和 B 一定要在前两位出现，那么可以先安排 A 和 B 的位置，再考虑其他元素的排列。
- **相邻捆绑法**
	- **定义：** 如果题目要求某些元素必须相邻排列，可以将这些元素“捆绑”在一起，视为一个整体来进行排列。
	- **应用场景：** 这种方法常用于解决某些元素有相邻限制的排列问题。
	- **例子：** 有 5 个人排队，其中 A 和 B 必须相邻，可以将 A 和 B 捆绑成一个整体，再和其他 3 个人一起进行排列。
- ※**不相邻插空法**
	- **定义：** 如果问题要求某些元素不能相邻，可以先安排其他元素，然后在这些元素之间的空位中插入不允许相邻的元素。
	- **应用场景：** 用于解决元素之间需要保持间隔的排列问题。
	- **例子：** 有 6 个人排队，其中 A 和 B 不能相邻，可以先排除 A 和 B 之外的 4 个人，再在 5 个空位中插入 A 和 B。
- ※**排数字问题**
	- **定义：** 排数字问题涉及将给定的数字按照一定的顺序排列，可能会有奇偶、大小、相邻关系等限制条件。
	- **应用场景：** 在数字排列中，通常涉及奇数和偶数的优先排列、从大到小或从小到大排列等特殊规则。
	 - **例子：** 给定 1 到 9 的数字，要求奇数和偶数交替排列，可以先排奇数或偶数，然后根据规则排列另一部分数字。
- **分组分配问题**
	- **定义：** 将一组元素分成若干个小组，或者将不同的任务分配给不同的人，有时需要考虑分组的数量、元素数量、分配方式等因素。
	- **应用场景：** 常用于班级分组、任务分配、物品分配等问题，需要考虑每个组内元素的数量和组合方式。
	- **例子：** 将 10 个人分成 2 组，可以先选择 5 个人分入第 1 组，剩下的 5 个人自动分入第 2 组。
### 正难则反
1. 从 5 男 3 女共 8 名学生中选出班长 1 人，副班长 1 人，纪律委员 1 人，要求至少有 1 名女生入选，共有多少种不同的选派方法.
	- 分析
		- 至少有 1 名女生入选, 包含 1 入选, 2 入选, 3 入选情况, 正难则反=>全部方法 - 没有女生的方法
	
	$A_8^3 (总)- A_5^3(男)$
### 特殊元素/位置优先考虑
1. (2023·成都模拟) 六个人从左至右排成一行，最左端只能排甲或乙，最右端不能排甲，则不同的排法共有 ( )
	(A) 192 种 (B) 216 种 (C) 240 种 (D) 288 种
	- 分析
		- 甲要求最多=>优先处理

| 编号  |  1  |  2  |  3  |  4  |  5  |  6  |
| :-: | :-: | :-: | :-: | :-: | :-: | :-: |
| 位置  |     |     |     |     |     |     |
| 要求  | 甲/乙 |     |     |     |     | !甲  |
情况 1: 甲在 1, 剩下 5 个位置排列剩下 5 个人
$A_5^5=5!$
情况 2: 甲不在 1, 则乙在 1, 甲可能在 2,3,4,5, 正难则反, 把甲放在 6 的可能减去, 则减掉 4 位置排列 4 人
$A^5_5 - A_4^4 = 5! - 4!$

最终:
$5! + (5!-4!) = 216$
选 B

### 元素相邻捆绑法
【2022 年高考 2 卷】有甲、乙、丙、丁、戊 5 名同学站成一排参加文艺汇演，若甲不站在两端，丙和丁相邻，则不同排列方式共有（ ）

A. 12 种  B. 24 种  C. 36 种  D. 48 种
- 分析
	- 丙丁相邻=>捆绑为 1 个, 则 4 元素 4 位置, 并且丙丁本身 $A_2^2$
	- 甲不在两边=>2,3 选 1, $C_2^1$

| 编号  |  1  |  2  |  3  |  4  |
| :-: | :-: | :-: | :-: | :-: |
| 位置  |     |     |     |     |
| 要求  | !甲  |     |     | !甲  |
$C_2^1(甲) \times A_3^3(乙,\{丙丁\},戊) \times A_2^2(丙丁) =24$
选 B

### 元素不相邻插空法
（2023·广州二模）现有甲、乙、丙、丁、戊、己 6 名同学在比赛后合影留念，若甲、乙二人必须相邻，且丙、丁二人不能相邻，则符合要求的排列方法有_____种。
- 分析
	- 甲乙相邻=>捆绑, 则甲乙本身 $A_2^2$
	- 丙丁不相邻=>插空, 则先排列{甲, 乙}, 戊, 己, $A_3^3$, 然后在这 3 个元素之间插空
	- 3 元素 4 个空=> $A_4^2$

| 位置  |  空  |  X  |  空  |  X  |  空  |  X  |  空  |
| :-: | :-: | :-: | :-: | :-: | :-: | :-: | :-: |

$A_2^2(甲乙) \times A_3^3(\{甲乙\},戊,己) \times A_4^2 = 144$

### 排数字问题
（2022·北京模拟）用 0，1，2，3，4，5 这六个数字可以组成无重复数字的四位偶数（ ）

(A) 60 个  (B) 106 个  (C) 156 个  (D) 216 个
- 分析
	- 四位数=>位置 1 不为 0
	- 偶数=>位置 4 必须为 0/2/4
	- 处理方法:
		- 元素: 0 要求最多, 先处理, 则有四种情况
			- 2 位为 0
			- 3 位为 0
			- 4 位为 0
			- 不包含 0
		- 位置: 位置 4 最特殊, 只能为 0/2/4, 而 4 为 0 时为特殊情况 (1!=0), 所以分为两种情况
			- 4 位为 0
			- 4 位为 2/4
	
| 编号  |  1  |  2  |  3  |   4   |
| :-: | :-: | :-: | :-: | :---: |
| 位置  |     |     |     |       |
| 要求  | !0  |     |     | 0/2/4 |
情况 1: 4 位为 0, 则剩下 5 个数字选择 3 个排列
$A_5^3 = 60$
情况2:4位为 2/4, 则选 2 和选 4 本身是 $C_2^1$, 1 位不能为 0, 则从剩下 4 个数字选 1 个 $C_4^1$, 最后排列 2,3位
$C_2^1 \times C_4^1 \times A_4^2 = 96$
结果:
$60+96=156$
选 C

### 分组分配问题
