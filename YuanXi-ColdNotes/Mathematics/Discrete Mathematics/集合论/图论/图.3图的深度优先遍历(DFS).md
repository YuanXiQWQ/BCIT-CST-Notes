## 深度优先遍历 (Depth-First-Search, DFS)
- 基于一种"回退"的思想, "不撞南墙不回头"
## 有向图的遍历
对于有向图 G
![[Pasted image 20241125193056.png]]
### 在 $V_{1}$ 处优先访问 $V_{2}$:
1. 从顶点 $V_{1}$ 出发, 访问下一个未访问点 $V_{2}$, 每访问一个点就标记已访问
	- ($V_{1},V_{2}$)
2. 从 $V_{2}$ 出发, 下一个点只能是 $V_{5}$ 
	- ($V_{1},V_{2},V_{5}$)
3. 无法继续, 回退到上一个点 $V_{2}$
	- ($V_{1},V_{2},V_{5}$)
4. 无法继续, 回退到上一个点 $V_{1}$
	- ($V_{1},V_{2},V_{5}$)
5. 下一个点只能是 $V_{4}$
	- ($V_{1},V_{2},V_{5},V_{4}$)
6. 下一个点只能是 $V_{3}$
	- ($V_{1},V_{2},V_{5},V_{4},V_{3}$)
7. 所有点都被标记为已访问, 遍历结束
![[Pasted image 20241125194633.png]]
### 在 $V_{1}$ 处优先访问 $V_{4}$:
1. 从顶点 $V_{1}$ 出发，优先访问下一个未访问点 $V_{4}$，标记 $V_{4}$ 为已访问。  
	   - ($V_{1}, V_{4}$)  
2. 从 $V_{4}$ 出发，访问下一个未访问点 $V_{3}$
	   - ($V_{1}, V_{4}, V_{3}$)  
3. 下一个点可以是 $V_{2},V_{5}$，访问 $V_{2}$
	   - ($V_{1}, V_{4}, V_{3}, V_{2}$)  
4. 下一个点只能是 $V_{5}$
	   - ($V_{1}, V_{4}, V_{3}, V_{2}, V_{5}$)  
5. 所有点都被标记为已访问，遍历结束
![[Pasted image 20241125194655.png]]
### 在 $V_{1}$ 处优先访问 $V_{4}$ 的情况下, 在 $V_{3}$ 处优先访问 $V_{5}$
1. 从顶点 $V_{1}$ 出发，优先访问下一个未访问点 $V_{4}$，标记 $V_{4}$ 为已访问。  
	   - ($V_{1}, V_{4}$)  
2. 从 $V_{4}$ 出发，访问下一个未访问点 $V_{3}$
	   - ($V_{1}, V_{4}, V_{3}$)  
3. 下一个点可以是 $V_{2},V_{5}$，优先访问 $V_{5}$
	   - ($V_{1}, V_{4}, V_{3}, V_{5}$)  
4. 无法继续, 回退到上一个点 $V_{3}$
	   - ($V_{1}, V_{4}, V_{3}, V_{5}$)  
5. 下一个点只能是 $V_{2}$
	   - ($V_{1}, V_{4}, V_{3}, V_{5},V_{2}$)  
6. 所有点都被标记为已访问，遍历结束
![[Pasted image 20241125195228.png]]
### 从其它点出发
1. 从点 $V_{2}$ 出发, 下一个点只能是 $V_{5}$
	- ($V_{2},V_{5}$)
2. 无法继续, 回退到上一个点 $V_{2}$
	- ($V_{2},V_{5}$)
3. 无法继续, 无法回退, 再选一个点开始深度搜索, 假设选 $V_{1}$
	- ($V_{2},V_{5},V_{1}$)
4. 下一个点只能是 $V_{4}$
	- ($V_{2},V_{5},V_{1},V_{4}$)
5. 下一个点只能是 $V_{3}$
	- ($V_{2},V_{5},V_{1},V_{4},V_{3}$)
6. 所有点都被标记为已访问，遍历结束
## 无向图的遍历
- 与有向图基本相同, 唯一不同的点是由于路线是双向的, 选择更多了
## 非连通图
- 当"无路可走"时, 需要执行多次深度优先搜索遍历
- 对于非连通无向图, 执行深度优先搜索的次数等于该图的连通分量