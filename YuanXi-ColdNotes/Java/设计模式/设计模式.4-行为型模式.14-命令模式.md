## 概述
- 在软件设计中经常需要向某些对象发送请求, 但是并不知道请求的接受者是谁, 也不知道被请求的操作是哪个, 此时只需在程序运行时指定具体的请求接受者即可. 设计上可以使用命令模式来进行设计.
- 命令模式使得请求发送者与请求接受者消除彼此之间的耦合, 让对象之间的调用关系更加灵活, 实现解耦
- 在命令模式中, 会将一个请求封装为一个对象, 以便使用不同参数来表示不同的请求(即命令), 同时命令模式也**支持撤销操作**
- 例如长官发布命令, 士兵去执行命令. 其中包含角色
	- 命令发布者 (长官)
	- 命令执行者 (士兵)
	- 命令 (连接将军和士兵)
- 带入到命令模式,即实现 Command 接口, 持有接收对象
	- Invoker (调用者)
	- Receiver (被调用者)
	- ComcreteCommand (命令)


## 定义
- 行为型设计模式: 命令模式 (Command Pattern)将一个请求封装为一个对象，使得可以用不同的请求对客户端进行参数化，并能够对请求进行排队、记录日志以及支持撤销等操作

## 原理类图
![[Pasted image 20241114190428.png]]
- Invoker: 调用者角色
- Command: 命令角色, 需要执行的所有命令都在这里, 可以是接口或抽象类
- Receiver: 接受者角色, 知道如何实施和执行一个请求相关的操作
- ConcreteCommand: 将一个接受者对象与一个动作绑定, 调用接受者相应的操作, 实现 `execute()`
## 要点
- **命令封装**：将请求或动作封装到命令对象中，使得请求与实现解耦。
- **请求调用者**：调用者不需要知道请求的接收者的实现，只需要持有一个命令对象。
- **命令执行者**：命令对象被传递给接收者，由接收者来执行具体的动作。
- **支持撤销、日志和事务**：因为命令是一个对象，可以记录、撤销和排队执行。
## 实例
### 智能生活项目需求
- 一套智能家电，有照明灯、风扇、冰箱、洗衣机。只要在手机上安装app就可以方便地远程来操控每个电器。
- 这些智能家电来自不同的厂家，我们不想针对每一种家电都要安装一个App, 分别控制. 我们希望能有一个app就可以把这些家电全部管起来。
- 希望各个厂家的智能家电能互相配合，这就要求厂家的智能家电都要提供一个统一的接口，便于我们的操作。
- 将来我们还可能加入一些新的智能家电，并且控制方式也可能变化。
- 控制的操作中，有的控制指令是手机app执行，有的执行者是每个厂商的一个家电产品。

### 思路分析
