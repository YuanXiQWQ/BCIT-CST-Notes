## 数据库设计和ER模型
- 数据库设计(Database Design, DBD): 构造最优的数据模型, 建立数据库及其应用系统的过程
- 数据库设计的优劣将直接影响应用系统的质量和运行效果

## 数据库设计过程
1. 数据分析
2. 数据建模
3. 关系数据库模式
4. 关系数据库管理

```

											  外模型
											 | 映像 |
用户需求 => | 综合 | => 概念模型 => | 转换 | => 逻辑模型
					  (ER,UML)				 | 映像 |
											  内模型
现实世界===============>信息世界==============>机器世界
```

## 背景
- 为了解决"软件危机", 在1968年首次提出"软件工程" 的概念
- **软件生存期**是指从软件的规划, 研制, 实现, 投入运行后的维护, 直到被新的软件所取代而停止使用的整个期间
- 以数据库为基础的信息系统通常称为**数据库应用系统**，它一般具有信息的采集、组织、加工、抽取、综合和传播等功能
- 数据库应用系统的开发是一项软件工程，但又有自己特有的特点，所以称为“**数据库工程**”

## 1.规划阶段
1. **系统调查**
   - 对应用单位作全面的调查，发现其存在的主要问题
   - 画出**组织层次图**，以了解企业的组织机构

2. **可行性分析**
   - 从技术、经济、效益、法律等方面对建立数据库系统的可行性进行分析
   - 写出**可行性分析报告**
   - 组织专家进行讨论其可行性

3. **确定数据库系统的总目标**
   - 对应用单位的工作流程进行优化和制订项目开发计划
   - 在得到决策部门批准后，就正式进入数据库系统的开发工作

## 2.需求分析阶段
- 计算机人员（系统分析员）和用户双方共同收集数据库所需要的信息内容和用户对处理的需求
- 以**需求说明书**的形式确定下来，作为以后系统开发的指南和系统验证的依据
### 步骤
1. 分析用户活动，产生**业务流程图**
2. 确定系统范围，产生**系统关联图**
3. 分析用户活动涉及的数据，产生**数据流图**
4. 分析系统数据，产生**数据字典**

## 3.概念设计阶段
- 概念设计的目标是产生反映用户需求的数据库概念结构，即**概念模型**
- 概念模型具有**硬件独立**、**软件独立**的特点
### 步骤
1. **进行数据抽象，设计局部概念模型**
   - 从实际的人、物、事和概念中抽取所关心的共同特性，忽略非本质的细节，并把这些特性用各种概念加以**精确描述**
   - **概念结构**是对现实世界的一种抽象

2. **将局部概念模型综合成全局概念模型**
   - 综合各局部概念结构就可得到反映所有用户需求的全局概念结构
   - 在综合过程中，主要处理各局部模式对各种对象定义的**冲突**（属性冲突、命名冲突、结构冲突）

3. **评审**
   - 消除了所有冲突后，就可把全局结构提交评审
   - 评审分为用户评审与**DBA**及应用开发人员评审两部分

### 方法
- 概念设计中最著名的方法就是**实体联系方法**（ER方法）。
- 概念设计的结果是得到一个**与DBMS无关**的概念模型。

## 4.逻辑设计阶段
- 逻辑设计的目的是把概念设计阶段设计好的**概念模型**转换成与选用的具体机器上的**DBMS**所支持的数据库模型相符合的**逻辑结构**（包括数据库逻辑模型和外模型）
- 对于逻辑设计而言，应首先选择**DBMS**，但往往数据库设计人员没有挑选的余地，都是在指定的**DBMS**上进行逻辑结构的设计
### 步骤
1. 把概念模型转换成逻辑模型
2. 设计外模型
3. 设计应用程序与数据库的接口
4. 评价模型
5. 修正模型

## 5.物理设计阶段
- 对于给定的基本数据模型选取一个最适合应用环境的物理结构的过程，称为**物理设计**。

- 物理设计的步骤：
  1. 存储记录结构设计
  2. 确定数据存放位置
  3. 存取方法的设计
  4. 完整性和安全性考虑
  5. 程序设计

## 6.数据库的实现
1. 用 **DDL** 定义数据库结构
2. 组织数据入库
3. 编制与调试应用程序
4. 数据库试运行

## 7.数据库的运行和维护
- 对数据库经常性的维护工作主要是由 **DBA** 完成的：
	- 数据库的转储和恢复
	- 数据库安全性、完整性控制
	- 数据库性能的监督、分析和改进
	- 数据库的重组织和重构造

- 若应用变化太大，已无法通过重构数据库来满足新的需求，或重构数据库的代价太大，则表明现有数据库应用系统的生命周期已结束，应该重新设计新的数据库系统，开始**新数据库应用系统的生命周期**了